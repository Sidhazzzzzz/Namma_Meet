/* ========================================
   CSS Variables & Design Tokens (Cyberpunk Theme)
   ======================================== */
:root {
  /* Colors - Dark Theme with Blue Accents */
  --color-bg-primary: #0a0e14;
  --color-bg-secondary: rgba(25, 35, 50, 0.8);
  --color-bg-tertiary: rgba(33, 150, 243, 0.15);

  --color-accent-primary: #2196F3;
  /* Bright Blue */
  --color-accent-secondary: #64b5f6;
  /* Light Blue */
  --color-accent-gradient: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);

  --color-success: #4CAF50;
  --color-warning: #FF9800;
  --color-danger: #f44336;

  --color-text-primary: #ffffff;
  --color-text-secondary: #b0bec5;
  --color-text-muted: #78909c;

  /* Glassmorphism & Glows - Premium */
  --glass-bg: rgba(12, 18, 28, 0.88);
  --glass-border: rgba(80, 130, 200, 0.2);
  --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
  --neon-glow: 0 0 12px rgba(33, 150, 243, 0.2);
  --neon-box-shadow: 0 0 10px rgba(33, 150, 243, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.04);

  /* Spacing */
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;

  /* Border Radius */
  --radius-sm: 0.5rem;
  --radius-md: 1rem;
  --radius-lg: 1.5rem;
  --radius-xl: 2rem;

  /* Typography */
  --font-family: 'Plus Jakarta Sans', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.5rem;
  --font-size-2xl: 2rem;

  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-base: 250ms ease-in-out;
  --transition-slow: 350ms ease-in-out;
}

/* ========================================
   Reset & Base Styles
   ======================================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-family);
  background: #000;
  /* Fallback */
  color: var(--color-text-primary);
  line-height: 1.6;
  overflow: hidden;
}

#app {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

/* ========================================
   Map Container (Background)
   ======================================== */
.map-container {
  position: absolute;
  inset: 0;
  z-index: 0;
}

#map {
  width: 100%;
  height: 100%;
}

/* ========================================
   Sidebar Styles (Floating)
   ======================================== */
.sidebar {
  position: absolute;
  top: 20px;
  left: 20px;
  bottom: 20px;
  width: 400px;
  z-index: 10;

  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--glass-shadow), var(--neon-glow);

  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

  /* Hide scrollbar */
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.sidebar::-webkit-scrollbar {
  display: none;
}

.sidebar-content {
  padding: var(--spacing-xl);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xl);
}

/* Logo Section */
.logo-section {
  text-align: center;
  padding: var(--spacing-lg) 0;
}

.logo-icon {
  width: 100%;
  max-width: 350px;
  height: auto;
  margin: 0 auto var(--spacing-sm);
  display: block;
  border-radius: var(--radius-md);
  box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
  animation: float 4s ease-in-out infinite;
  transition: transform 0.3s ease;
}

.logo-icon:hover {
  transform: scale(1.02);
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }
}

/* Input Section - Premium */
.input-section {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.input-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
  position: relative;
}

/* Premium Labels */
.input-group label {
  font-size: 14px;
  font-weight: 600;
  color: rgba(100, 181, 246, 0.9);
  text-transform: uppercase;
  letter-spacing: 2px;
  display: flex;
  align-items: center;
  gap: 8px;
  padding-left: 4px;
}

.label-icon {
  font-size: 16px;
  opacity: 0.9;
  display: flex;
  align-items: center;
  justify-content: center;
}

.label-icon svg {
  display: block;
}

/* Starting Point Icon - Green circle */
.start-icon {
  color: #4CAF50;
}

/* Destination Icon - Red theme like Google Maps */
.dest-icon {
  color: #F44336;
}

/* Premium Input Fields */
.input-group input {
  padding: 18px 20px;
  background: linear-gradient(145deg, rgba(15, 22, 35, 0.9), rgba(10, 18, 30, 0.95));
  border: 1px solid rgba(100, 140, 180, 0.15);
  border-radius: 14px;
  color: rgba(240, 245, 255, 0.95);
  font-size: 15px;
  font-weight: 400;
  font-family: var(--font-family);
  transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  outline: none;
  -webkit-appearance: none;
  appearance: none;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.02);
}

.input-group input:hover {
  border-color: rgba(100, 181, 246, 0.25);
}

.input-group input:focus {
  border-color: rgba(100, 181, 246, 0.5);
  box-shadow:
    0 0 0 3px rgba(100, 181, 246, 0.1),
    0 4px 20px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.03);
  background: linear-gradient(145deg, rgba(20, 30, 45, 0.95), rgba(15, 25, 40, 0.98));
}

.input-group input::placeholder {
  color: rgba(150, 165, 185, 0.6);
  font-weight: 400;
  transition: all 0.2s ease;
}

.input-group input:focus::placeholder {
  opacity: 0.4;
  transform: translateX(4px);
}

/* Autocomplete Dropdown - Seamless Connection */
.autocomplete-items {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 100;
  background: linear-gradient(145deg, rgba(15, 22, 35, 0.98), rgba(10, 18, 30, 0.99));
  -webkit-backdrop-filter: blur(20px);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(100, 181, 246, 0.25);
  border-top: none;
  border-radius: 0 0 14px 14px;
  overflow: hidden;
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.02) inset;
  max-height: 220px;
  overflow-y: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
  animation: ac-slide 0.2s cubic-bezier(0.2, 0, 0, 1);
}

/* When input has autocomplete open, flatten bottom corners and hide bottom border */
.input-group:has(.autocomplete-items) input {
  border-radius: 14px 14px 0 0;
  border-color: rgba(100, 181, 246, 0.25);
  box-shadow:
    0 -2px 8px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.02);
}

.autocomplete-items::-webkit-scrollbar {
  display: none;
}

@keyframes ac-slide {
  from {
    opacity: 0;
    transform: translateY(-4px) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.autocomplete-item {
  padding: 10px 14px;
  cursor: pointer;
  transition: background 0.15s ease;
  display: flex;
  flex-direction: column;
  gap: 1px;
  position: relative;
}

.autocomplete-item:not(:last-child)::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 14px;
  right: 14px;
  height: 1px;
  background: rgba(100, 140, 180, 0.08);
}

.autocomplete-item:hover {
  background: rgba(100, 181, 246, 0.12);
}

.autocomplete-item:active {
  background: rgba(100, 181, 246, 0.18);
}

.autocomplete-item strong {
  color: rgba(255, 255, 255, 0.95);
  font-size: 13px;
  font-weight: 500;
  letter-spacing: 0.1px;
}

.autocomplete-item small {
  color: rgba(160, 175, 195, 0.6);
  font-size: 11px;
  line-height: 1.2;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Primary Button - Premium Enterprise Grade */
.primary-btn {
  margin-top: 14px;
  padding: 18px 32px;
  background: linear-gradient(165deg,
      #2E7D32 0%,
      #1B5E20 50%,
      #154a19 100%);
  border: 1px solid rgba(129, 199, 132, 0.25);
  border-radius: 14px;
  color: #E8F5E9;
  font-size: 16px;
  font-weight: 500;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.2),
    0 6px 20px rgba(21, 74, 25, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
  letter-spacing: 0.4px;
  position: relative;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
  -webkit-user-select: none;
  user-select: none;
}

/* Top highlight shimmer */
.primary-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg,
      rgba(255, 255, 255, 0.12) 0%,
      transparent 100%);
  pointer-events: none;
  border-radius: 14px 14px 0 0;
}

/* Bottom accent line */
.primary-btn::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0%;
  height: 3px;
  background: linear-gradient(90deg,
      transparent,
      #A5D6A7,
      transparent);
  opacity: 0;
  transition: all 0.3s ease;
  border-radius: 3px;
}

.primary-btn:hover {
  cursor: pointer;
  background:
    radial-gradient(circle 120px at var(--mouse-x, 50%) var(--mouse-y, 50%),
      rgba(200, 230, 201, 0.4) 0%,
      rgba(165, 214, 167, 0.2) 40%,
      transparent 70%),
    linear-gradient(165deg,
      #388E3C 0%,
      #2E7D32 50%,
      #1B5E20 100%);
  border-color: rgba(165, 214, 167, 0.6);
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.25),
    0 12px 28px rgba(21, 74, 25, 0.4),
    0 0 30px rgba(76, 175, 80, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
  transform: translateY(-2px);
}

.primary-btn:hover::after {
  opacity: 1;
  width: 50%;
}

.primary-btn:active {
  transform: translateY(0) scale(0.98);
  transition: all 0.1s ease;
  background: linear-gradient(165deg,
      #1B5E20 0%,
      #154a19 50%,
      #0d3a10 100%);
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.4),
    inset 0 2px 6px rgba(0, 0, 0, 0.25);
}

.primary-btn:active::after {
  opacity: 1;
  width: 70%;
}

/* Icon styling - Emoji */
.primary-btn .btn-icon {
  font-size: 18px;
  opacity: 0.95;
  transition: all 0.3s ease;
}

.primary-btn:hover .btn-icon {
  opacity: 1;
  transform: scale(1.08);
}

/* Icon styling - SVG */
.primary-btn .btn-icon-svg {
  opacity: 0.95;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  flex-shrink: 0;
  stroke-width: 2.2;
}

.primary-btn:hover .btn-icon-svg {
  opacity: 1;
  stroke: #ff4444;
  transform: rotate(180deg) scale(1.08);
}

/* Focus state for accessibility */
.primary-btn:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(129, 199, 132, 0.5),
    0 2px 4px rgba(0, 0, 0, 0.3),
    0 8px 24px rgba(27, 94, 32, 0.3);
}

/* Disabled state */
.primary-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.primary-btn:disabled:hover {
  transform: none;
  background: linear-gradient(180deg,
      rgba(45, 55, 72, 0.95) 0%,
      rgba(30, 40, 55, 0.98) 100%);
  border-color: rgba(100, 120, 150, 0.25);
}

.secondary-btn {
  /* Keeping inline styles from HTML but adding hover effects via class if possible, 
       but since they have inline styles, I'll target them with !important or just general button styles if they didn't have inline.
       The HTML has inline styles for background colors. I will add a general hover effect for them. */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.secondary-btn:hover {
  filter: brightness(1.2);
  transform: translateY(-2px);
  box-shadow: 0 0 15px currentColor;
}

/* Feature Buttons - Premium Samsung One UI Style */
.feature-btn {
  margin-top: 6px;
  width: 100%;
  padding: 12px 16px;
  background: linear-gradient(145deg, rgba(20, 30, 45, 0.8), rgba(15, 22, 35, 0.9));
  border: 1px solid rgba(100, 140, 180, 0.15) !important;
  border-radius: 12px;
  color: rgba(220, 230, 245, 0.95);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 12px;
  font-weight: 500;
  font-size: 13px;
  font-family: var(--font-family);
  letter-spacing: 0.3px;
  transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.03);
}

/* Subtle shine overlay */
.feature-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.04),
      transparent);
  transition: left 0.6s ease;
}

.feature-btn:hover::before {
  left: 100%;
}

/* Gradient overlay */
.feature-btn::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: linear-gradient(135deg, rgba(100, 181, 246, 0.03), transparent 60%);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.feature-btn:hover::after {
  opacity: 1;
}

.feature-btn:hover {
  background: linear-gradient(145deg, rgba(30, 45, 65, 0.9), rgba(20, 32, 50, 0.95));
  border-color: rgba(100, 181, 246, 0.35) !important;
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(100, 181, 246, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  transform: translateY(-2px);
}

.feature-btn:active {
  transform: translateY(0) scale(0.98);
  transition: all 0.1s ease;
  box-shadow:
    0 1px 4px rgba(0, 0, 0, 0.3),
    inset 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Icon container */
.feature-btn .btn-icon {
  font-size: 20px;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(100, 181, 246, 0.1);
  border-radius: 10px;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

.feature-btn:hover .btn-icon {
  background: rgba(100, 181, 246, 0.2);
  transform: scale(1.05);
}

/* Active state */
.feature-btn.active {
  background: linear-gradient(145deg, rgba(35, 55, 80, 0.95), rgba(25, 40, 60, 0.98));
  border-color: rgba(100, 181, 246, 0.5) !important;
  box-shadow:
    0 4px 20px rgba(100, 181, 246, 0.15),
    0 0 0 1px rgba(100, 181, 246, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.feature-btn.active .btn-icon {
  background: rgba(100, 181, 246, 0.25);
}

/* Premium Icon Wrapper Styles */
.btn-icon-wrapper {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  flex-shrink: 0;
  position: relative;
  transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-icon-wrapper svg {
  transition: all 0.3s ease;
  position: relative;
  z-index: 1;
}

/* Metro Icon - Purple/Indigo Theme */
.metro-icon {
  background: linear-gradient(145deg, rgba(124, 77, 255, 0.2), rgba(101, 31, 255, 0.1));
  border: 1px solid rgba(124, 77, 255, 0.3);
  color: #B388FF;
}

.metro-icon::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 12px;
  background: radial-gradient(circle at 30% 30%, rgba(179, 136, 255, 0.15), transparent 60%);
}

.feature-btn:hover .metro-icon {
  background: linear-gradient(145deg, rgba(124, 77, 255, 0.35), rgba(101, 31, 255, 0.2));
  border-color: rgba(179, 136, 255, 0.5);
  box-shadow: 0 4px 20px rgba(124, 77, 255, 0.25);
  transform: scale(1.05);
}

.feature-btn:hover .metro-icon svg {
  stroke: #E1BEE7;
}

/* BMTC Icon - Green Theme */
.bmtc-icon {
  background: linear-gradient(145deg, rgba(76, 175, 80, 0.2), rgba(46, 125, 50, 0.1));
  border: 1px solid rgba(76, 175, 80, 0.3);
  color: #81C784;
}

.bmtc-icon::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 12px;
  background: radial-gradient(circle at 30% 30%, rgba(129, 199, 132, 0.15), transparent 60%);
}

.feature-btn:hover .bmtc-icon {
  background: linear-gradient(145deg, rgba(76, 175, 80, 0.35), rgba(46, 125, 50, 0.2));
  border-color: rgba(129, 199, 132, 0.5);
  box-shadow: 0 4px 20px rgba(76, 175, 80, 0.25);
  transform: scale(1.05);
}

.feature-btn:hover .bmtc-icon svg {
  stroke: #C8E6C9;
}

/* Accidents Icon - Orange/Amber Theme */
.accidents-icon {
  background: linear-gradient(145deg, rgba(255, 152, 0, 0.2), rgba(230, 81, 0, 0.1));
  border: 1px solid rgba(255, 152, 0, 0.3);
  color: #FFB74D;
}

.accidents-icon::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 12px;
  background: radial-gradient(circle at 30% 30%, rgba(255, 183, 77, 0.15), transparent 60%);
}

.feature-btn:hover .accidents-icon {
  background: linear-gradient(145deg, rgba(255, 152, 0, 0.35), rgba(230, 81, 0, 0.2));
  border-color: rgba(255, 183, 77, 0.5);
  box-shadow: 0 4px 20px rgba(255, 152, 0, 0.25);
  transform: scale(1.05);
}

.feature-btn:hover .accidents-icon svg {
  stroke: #FFE0B2;
}

/* Facilities Icon - Teal/Cyan Theme */
.facilities-icon {
  background: linear-gradient(145deg, rgba(0, 188, 212, 0.2), rgba(0, 151, 167, 0.1));
  border: 1px solid rgba(0, 188, 212, 0.3);
  color: #4DD0E1;
}

.facilities-icon::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 12px;
  background: radial-gradient(circle at 30% 30%, rgba(77, 208, 225, 0.15), transparent 60%);
}

.feature-btn:hover .facilities-icon {
  background: linear-gradient(145deg, rgba(0, 188, 212, 0.35), rgba(0, 151, 167, 0.2));
  border-color: rgba(77, 208, 225, 0.5);
  box-shadow: 0 4px 20px rgba(0, 188, 212, 0.25);
  transform: scale(1.05);
}

.feature-btn:hover .facilities-icon svg {
  stroke: #B2EBF2;
}

/* Button Label - Premium Typography */
.btn-label {
  font-family: 'Plus Jakarta Sans', var(--font-family);
  font-weight: 500;
  font-size: 13px;
  letter-spacing: 0.2px;
  color: rgba(220, 230, 245, 0.95);
  transition: all 0.3s ease;
}

.feature-btn:hover .btn-label {
  color: #fff;
}

/* Active State Styles for Icon Wrappers */
.feature-btn.active .metro-icon {
  background: linear-gradient(145deg, rgba(124, 77, 255, 0.4), rgba(101, 31, 255, 0.25));
  border-color: rgba(179, 136, 255, 0.6);
  box-shadow: 0 0 20px rgba(124, 77, 255, 0.35);
}

.feature-btn.active .bmtc-icon {
  background: linear-gradient(145deg, rgba(76, 175, 80, 0.4), rgba(46, 125, 50, 0.25));
  border-color: rgba(129, 199, 132, 0.6);
  box-shadow: 0 0 20px rgba(76, 175, 80, 0.35);
}

.feature-btn.active .accidents-icon {
  background: linear-gradient(145deg, rgba(255, 152, 0, 0.4), rgba(230, 81, 0, 0.25));
  border-color: rgba(255, 183, 77, 0.6);
  box-shadow: 0 0 20px rgba(255, 152, 0, 0.35);
}

.feature-btn.active .facilities-icon {
  background: linear-gradient(145deg, rgba(0, 188, 212, 0.4), rgba(0, 151, 167, 0.25));
  border-color: rgba(77, 208, 225, 0.6);
  box-shadow: 0 0 20px rgba(0, 188, 212, 0.35);
}

/* Routes Container */
.routes-container {
  display: none;
  flex-direction: column;
  gap: var(--spacing-md);
}

.routes-container.visible {
  display: flex;
}

.routes-title {
  font-size: 15px;
  font-weight: 600;
  color: rgba(200, 210, 225, 0.95);
  margin-bottom: 12px;
  text-transform: uppercase;
  letter-spacing: 2px;
  position: relative;
  display: inline-block;
  padding-bottom: 8px;
}

.routes-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40px;
  height: 2px;
  background: linear-gradient(90deg, #64b5f6, transparent);
  border-radius: 1px;
}

.routes-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

/* Route Card - Premium Styling */
.route-card {
  background: linear-gradient(145deg, rgba(15, 20, 30, 0.9), rgba(10, 15, 25, 0.95));
  border: 1px solid rgba(100, 120, 140, 0.2);
  border-radius: 16px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.route-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--route-color, #64b5f6);
  transition: all 0.3s ease;
}

.route-card::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.03), transparent);
  pointer-events: none;
}

.route-card:hover {
  border-color: rgba(100, 181, 246, 0.4);
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(100, 181, 246, 0.1);
}

.route-card:hover::before {
  width: 5px;
  box-shadow: 0 0 15px var(--route-color, #64b5f6);
}

.route-card.selected {
  border-color: rgba(100, 181, 246, 0.5);
  background: linear-gradient(145deg, rgba(20, 30, 45, 0.95), rgba(15, 25, 40, 0.98));
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.route-card.selected::before {
  width: 5px;
  box-shadow: 0 0 20px var(--route-color, #64b5f6);
}

.route-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-md);
}

.route-name {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--color-text-primary);
  text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
}

.safety-badge {
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s ease;
}

.safety-badge.high {
  background: rgba(0, 255, 157, 0.1);
  color: var(--color-success);
  border: 1px solid var(--color-success);
}

.safety-badge.medium {
  background: rgba(255, 189, 0, 0.1);
  color: var(--color-warning);
  border: 1px solid var(--color-warning);
}

.safety-badge.low {
  background: rgba(255, 0, 85, 0.1);
  color: var(--color-danger);
  border: 1px solid var(--color-danger);
}

.route-details {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.route-stat {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--font-size-sm);
}

.stat-label {
  color: var(--color-text-secondary);
}

.stat-value {
  color: var(--color-text-primary);
  font-weight: 600;
}

.safety-score {
  font-size: 22px;
  font-weight: 800;
  color: var(--safety-color, #64b5f6);
  text-shadow: 0 0 20px var(--safety-glow, rgba(100, 181, 246, 0.3));
  transition: color 0.3s ease, text-shadow 0.3s ease;
}

.safety-score.high {
  --safety-color: #00E676;
  --safety-glow: rgba(0, 230, 118, 0.4);
}

.safety-score.medium {
  --safety-color: #FFC107;
  --safety-glow: rgba(255, 193, 7, 0.4);
}

.safety-score.low {
  --safety-color: #FF5252;
  --safety-glow: rgba(255, 82, 82, 0.4);
}

/* Info Section */
.info-section {
  margin-top: auto;
  padding-top: 16px;
}

.info-card {
  background: linear-gradient(145deg, rgba(100, 181, 246, 0.06), rgba(100, 181, 246, 0.02));
  border: 1px solid rgba(100, 181, 246, 0.15);
  border-radius: 12px;
  padding: 14px 16px;
  display: flex;
  gap: 12px;
  align-items: flex-start;
  transition: all 0.3s ease;
}

.info-card:hover {
  border-color: rgba(100, 181, 246, 0.25);
}

.info-icon {
  font-size: 18px;
  flex-shrink: 0;
  opacity: 0.8;
}

.info-text {
  font-size: 13px;
  color: rgba(180, 190, 205, 0.9);
  line-height: 1.6;
}

/* Loading Overlay - Premium */
.loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(5, 10, 20, 0.4);
  -webkit-backdrop-filter: blur(30px);
  backdrop-filter: blur(30px);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 24px;
  z-index: 1000;
  transition: opacity 0.4s ease;
}

.loading-overlay.hidden {
  opacity: 0;
  pointer-events: none;
}

.loading-spinner {
  width: 56px;
  height: 56px;
  border: 3px solid rgba(100, 181, 246, 0.15);
  border-top-color: #64b5f6;
  border-radius: 50%;
  animation: spin 0.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  position: relative;
}

.loading-spinner::before {
  content: '';
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  border: 3px solid transparent;
  border-top-color: rgba(100, 181, 246, 0.3);
  border-radius: 50%;
  animation: spin-reverse 1.2s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes spin-reverse {
  to {
    transform: rotate(-360deg);
  }
}

.loading-text {
  font-size: 14px;
  color: rgba(200, 210, 225, 0.9);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 3px;
  animation: loading-fade 2s ease-in-out infinite;
}

@keyframes loading-fade {

  0%,
  100% {
    opacity: 0.6;
  }

  50% {
    opacity: 1;
  }
}

/* Weather Widget - Premium Samsung/Google Style */
.weather-container {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 16px;
}

.weather-container.hidden {
  display: none;
}

.weather-title {
  font-size: 15px;
  font-weight: 600;
  color: rgba(200, 210, 225, 0.95);
  text-transform: uppercase;
  letter-spacing: 2px;
  position: relative;
  display: inline-block;
  padding-bottom: 8px;
  margin-bottom: 4px;
}

.weather-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40px;
  height: 2px;
  background: linear-gradient(90deg, #64b5f6, transparent);
  border-radius: 1px;
}

.weather-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.weather-card {
  background: linear-gradient(145deg, rgba(20, 30, 45, 0.9), rgba(15, 22, 35, 0.95));
  border: 1px solid rgba(100, 140, 180, 0.12);
  border-radius: 14px;
  padding: 16px 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 6px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.weather-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.02), transparent);
  pointer-events: none;
}

.weather-card:hover {
  transform: translateY(-2px);
  border-color: rgba(100, 181, 246, 0.25);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

.weather-location {
  font-size: 10px;
  color: rgba(100, 181, 246, 0.9);
  text-transform: uppercase;
  letter-spacing: 1.5px;
  font-weight: 600;
}

.weather-icon {
  width: 44px;
  height: 44px;
  filter: drop-shadow(0 2px 8px rgba(255, 180, 100, 0.4));
  margin: 2px 0;
}

.weather-temp {
  font-size: 26px;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.95);
  letter-spacing: -0.5px;
  line-height: 1;
}

.weather-desc {
  font-size: 11px;
  color: rgba(160, 175, 195, 0.7);
  text-transform: capitalize;
  font-weight: 400;
}

/* Custom Route Markers - Clean Professional Style */
.route-marker {
  cursor: pointer;
  filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.25));
}

.start-marker:hover,
.end-marker:hover {
  filter: drop-shadow(0 3px 5px rgba(0, 0, 0, 0.35));
}


/* User Location Marker */
.user-location-container {
  position: relative;
  width: 80px;
  height: 80px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;
  margin: 0;
  pointer-events: none;
}

.user-location-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: #4285f4;
  border: 2px solid #ffffff;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
  z-index: 2;
  position: relative;
  box-sizing: border-box;
}

.user-location-pulse {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background-color: rgba(66, 133, 244, 0.4);
  animation: pulse-ring 2s ease-out infinite;
  z-index: 1;
}

@keyframes pulse-ring {
  0% {
    transform: scale(0.2);
    opacity: 1;
  }

  100% {
    transform: scale(1);
    opacity: 0;
  }
}

/* Facility & Accident Markers - Premium Styling */
.hospital-marker,
.police-marker,
.accident-marker {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.25));
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center bottom;
}

.hospital-marker:hover {
  transform: scale(1.2) translateY(-3px);
  filter: drop-shadow(0 6px 12px rgba(220, 38, 38, 0.5));
}

.police-marker:hover {
  transform: scale(1.2) translateY(-3px);
  filter: drop-shadow(0 6px 12px rgba(30, 64, 175, 0.5));
}

.accident-marker:hover {
  transform: scale(1.2) translateY(-3px);
  filter: drop-shadow(0 6px 12px rgba(217, 119, 6, 0.5));
}


/* Scrollbar Styling */
.sidebar::-webkit-scrollbar {
  width: 6px;
}

/* ========================================
   Desktop: Hide mobile-only elements
   ======================================== */
.mobile-search-bar {
  display: none;
}

.mobile-search-expanded {
  display: none;
}

.panel-drag-handle {
  display: none;
}

/* ========================================
   Mobile Responsive Design (Google Maps Style)
   ======================================== */
@media (max-width: 768px) {

  /* ----------------------------------------
     Mobile Top Bar Container
     ---------------------------------------- */
  .mobile-top-bar {
    display: flex;
    position: fixed;
    top: max(12px, env(safe-area-inset-top));
    left: 12px;
    right: 12px;
    z-index: 25;
    gap: 10px;
    align-items: center;
  }

  /* ----------------------------------------
     Mobile Collapsed Search Bar (inside top bar)
     ---------------------------------------- */
  .mobile-search-bar {
    display: flex;
    position: relative;
    top: auto;
    left: auto;
    right: auto;
    flex: 1;

    background: var(--glass-bg);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 28px;

    padding: 12px 14px;
    align-items: center;
    gap: 10px;
    cursor: pointer;

    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4), var(--neon-glow);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mobile-search-bar:active {
    transform: scale(0.98);
    background: rgba(20, 30, 45, 0.98);
  }

  /* Hide the big SOS button on mobile */
  .sos-btn {
    display: none !important;
  }

  .mobile-search-icon {
    color: var(--color-accent-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .mobile-search-placeholder {
    flex: 1;
    color: var(--color-text-muted);
    font-size: 16px;
    font-family: var(--font-family);
    font-weight: 500;
  }

  .mobile-logo-mini {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    object-fit: cover;
    flex-shrink: 0;
  }

  /* Mobile SOS Button - standalone square beside search bar */
  .mobile-sos-btn {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #dc2626, #b91c1c);
    border: none;
    border-radius: 14px;
    color: #fff;
    cursor: pointer;
    flex-shrink: 0;
    box-shadow: 0 4px 15px rgba(220, 38, 38, 0.5);
    transition: all 0.2s ease;
  }

  .mobile-sos-btn:active {
    transform: scale(0.95);
    background: linear-gradient(145deg, #b91c1c, #991b1b);
  }

  .mobile-sos-btn svg {
    stroke: #fbbf24;
  }

  /* ----------------------------------------
     Expanded Search Panel - RESPONSIVE
     ---------------------------------------- */
  .mobile-search-expanded {
    display: none;
    position: fixed;
    /* Safe area aware positioning */
    top: max(12px, env(safe-area-inset-top));
    left: 12px;
    right: 12px;
    z-index: 30;

    /* Prevent overflow */
    max-height: calc(100vh - max(24px, env(safe-area-inset-top)) - env(safe-area-inset-bottom) - 40px);
    overflow-y: auto;

    background: var(--glass-bg);
    -webkit-backdrop-filter: blur(25px);
    backdrop-filter: blur(25px);
    border: 1px solid var(--glass-border);
    border-radius: 16px;

    padding: 12px;

    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5), var(--neon-glow);
    animation: scaleIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mobile-search-expanded:not(.hidden) {
    display: block;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .expanded-search-header {
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }

  .back-btn {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    border-radius: 50%;
    color: var(--color-text-primary);
    cursor: pointer;
    flex-shrink: 0;
    transition: background 0.2s ease;
  }

  .back-btn:active {
    background: rgba(255, 255, 255, 0.1);
  }

  .expanded-search-inputs {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .mini-input-row {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(100, 140, 180, 0.15);
    border-radius: 10px;
    padding: 10px 12px;
    transition: all 0.2s ease;
  }

  .mini-input-row:focus-within {
    border-color: var(--color-accent-primary);
    background: rgba(33, 150, 243, 0.08);
  }

  .mini-marker {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 20px;
    height: 25px;
  }

  .mini-marker svg {
    display: block;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
  }

  .mini-marker.green svg {
    filter: drop-shadow(0 0 6px rgba(34, 197, 94, 0.4));
  }

  .mini-marker.red svg {
    filter: drop-shadow(0 0 6px rgba(239, 68, 68, 0.4));
  }

  .mini-input-row input {
    flex: 1;
    background: transparent;
    border: none;
    outline: none;
    color: var(--color-text-primary);
    font-size: 16px;
    font-family: var(--font-family);
  }

  .mini-input-row input::placeholder {
    color: var(--color-text-muted);
  }

  /* Mobile Autocomplete - positioned relative to mini-input-row */
  .mini-input-row {
    position: relative;
  }

  .mini-input-row .autocomplete-items {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 100;
    margin-top: 4px;
    max-height: 200px;
    overflow-y: auto;
    background: rgba(15, 22, 35, 0.98);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
    scrollbar-width: none;
  }

  .mini-input-row .autocomplete-items::-webkit-scrollbar {
    display: none;
  }

  .mini-input-row .autocomplete-item {
    padding: 12px 16px;
    cursor: pointer;
    transition: background 0.15s ease;
    display: flex;
    flex-direction: column;
    gap: 2px;
    border-bottom: 1px solid rgba(100, 140, 180, 0.1);
  }

  .mini-input-row .autocomplete-item:last-child {
    border-bottom: none;
  }

  .mini-input-row .autocomplete-item:active {
    background: rgba(100, 181, 246, 0.15);
  }

  .mini-input-row .autocomplete-item strong {
    color: rgba(255, 255, 255, 0.95);
    font-size: 14px;
    font-weight: 500;
  }

  .mini-input-row .autocomplete-item small {
    color: rgba(160, 175, 195, 0.6);
    font-size: 11px;
    line-height: 1.3;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Mobile Find Routes Button */
  .mobile-find-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    padding: 12px 16px;
    margin-top: 6px;

    background: linear-gradient(145deg, #1d7a3e, #15602f);
    border: 1px solid rgba(34, 197, 94, 0.4);
    border-radius: 12px;

    color: #fff;
    font-size: 14px;
    font-weight: 600;
    font-family: var(--font-family);
    letter-spacing: 0.5px;

    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(21, 128, 61, 0.3);
  }

  .mobile-find-btn:active {
    transform: scale(0.97);
    background: linear-gradient(145deg, #15602f, #0f4a24);
  }

  .mobile-find-btn svg {
    stroke: #ef4444;
    flex-shrink: 0;
  }

  /* Hide only search inputs in bottom panel - feature buttons stay visible */
  .input-section .input-group,
  .input-section .primary-btn {
    display: none !important;
  }

  /* ----------------------------------------
     Bottom Panel - FLOATING with margins
     ---------------------------------------- */
  .sidebar {
    position: fixed;
    top: auto;
    left: 12px;
    right: 12px;
    bottom: 12px;
    width: auto;
    height: 38vh;

    border-radius: 24px;
    border: 1px solid var(--glass-border);

    transition: height 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 15;

    /* Prevent scroll bounce on iOS */
    overscroll-behavior: contain;

    /* Flex layout for sticky header */
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  /* Panel States */
  .sidebar.minimized {
    height: 70px;
  }

  .sidebar.expanded {
    height: 70vh;
    bottom: 12px;
  }

  /* ----------------------------------------
     Drag Handle - Seamless touch-friendly area
     ---------------------------------------- */
  .panel-drag-handle {
    display: flex;
    justify-content: center;
    align-items: center;
    /* Larger touch target for easier dragging */
    padding: 16px 0 12px;
    min-height: 44px;
    cursor: grab;
    touch-action: none;
    flex-shrink: 0;

    /* Seamless with panel - no separate background */
    background: transparent;
    position: relative;
  }

  .panel-drag-handle:active {
    cursor: grabbing;
  }

  .drag-indicator {
    width: 40px;
    height: 5px;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 3px;
    transition: all 0.2s ease;
  }

  .panel-drag-handle:active .drag-indicator {
    background: rgba(255, 255, 255, 0.6);
    width: 50px;
  }

  /* ----------------------------------------
     Sidebar Content Reordering
     Routes & Weather at TOP on mobile
     ---------------------------------------- */
  .sidebar-content {
    display: flex;
    flex-direction: column;
    padding: 0 var(--spacing-lg) var(--spacing-xl);
    gap: var(--spacing-md);

    /* Scrollable content */
    flex: 1;
    overflow-y: auto;
    overscroll-behavior: contain;

    /* Hide scrollbar */
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .sidebar-content::-webkit-scrollbar {
    display: none;
  }

  /* Reorder: Routes first, Weather second, inputs third */
  #routes-container {
    order: 1;
  }

  #weather-container {
    order: 2;
  }

  .input-section {
    order: 3;
  }

  .info-section {
    order: 4;
  }

  /* Hide logo on mobile - shown in search bar instead */
  .logo-section {
    display: none;
  }

  /* ----------------------------------------
     Touch-friendly adjustments
     ---------------------------------------- */
  .input-group input {
    padding: 14px 16px;
    font-size: 16px;
    border-radius: 12px;
  }

  .input-group label {
    font-size: 12px;
    letter-spacing: 1.5px;
  }

  .primary-btn {
    padding: 14px 20px;
    font-size: 14px;
    border-radius: 12px;
  }

  .feature-btn {
    padding: 12px 14px;
    border-radius: 10px;
  }

  /* Route cards more compact */
  .route-card {
    padding: 14px;
    border-radius: 14px;
  }

  .routes-title {
    font-size: 13px;
    margin-bottom: 8px;
  }

  /* Weather grid */
  .weather-grid {
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }

  .weather-card {
    padding: 12px 10px;
    border-radius: 12px;
  }

  /* ----------------------------------------
     SOS Button - Top right, below search
     ---------------------------------------- */
  .sos-btn {
    position: fixed;
    top: 80px;
    right: 16px;
    z-index: 20;
  }

  .sos-btn:active {
    transform: scale(0.95);
  }

  /* ----------------------------------------
     Hide search bar when expanded panel open
     ---------------------------------------- */
  .mobile-search-expanded:not(.hidden)~.mobile-search-bar,
  body:has(.mobile-search-expanded:not(.hidden)) .mobile-search-bar {
    opacity: 0;
    pointer-events: none;
  }

  /* ----------------------------------------
     Current Weather Card (if exists)
     ---------------------------------------- */
  .current-weather-card {
    position: fixed;
    top: 80px;
    right: 16px;
    z-index: 10;

    min-width: 160px;
    background: var(--glass-bg);
    -webkit-backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--glass-shadow), var(--neon-glow);

    padding: var(--spacing-md);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: var(--spacing-xs);

    transition: all var(--transition-base);
  }

  .current-weather-card.hidden {
    display: none;
  }

  /* ----------------------------------------
     Emergency Modal (preserved)
     ---------------------------------------- */
  .emergency-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 1000;

    background: rgba(0, 0, 0, 0.9);
    -webkit-backdrop-filter: blur(15px);
    backdrop-filter: blur(15px);

    display: flex;
    align-items: center;
    justify-content: center;

    animation: fadeIn 0.3s ease-out;
  }

  .emergency-modal.hidden {
    display: none;
  }

  .emergency-modal-content {
    background: var(--glass-bg);
    border: 2px solid var(--color-danger);
    border-radius: var(--radius-lg);
    padding: var(--spacing-lg);

    max-width: 90%;
    width: 400px;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-md);

    box-shadow: 0 0 50px rgba(255, 0, 85, 0.7), var(--glass-shadow);
    animation: scaleIn 0.3s ease-out;
  }

  .emergency-icon {
    font-size: 3rem;
    animation: pulse-emergency 1s infinite;
  }

  .emergency-title {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--color-danger);
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 20px rgba(255, 0, 85, 0.8);
  }

  .emergency-message {
    font-size: var(--font-size-base);
    color: var(--color-text-primary);
    text-align: center;
  }

  .emergency-close-btn {
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--color-danger);
    border: 1px solid rgba(255, 0, 85, 0.5);
    border-radius: var(--radius-md);
    color: #fff;
    font-size: var(--font-size-sm);
    font-weight: 600;
    font-family: var(--font-family);
    cursor: pointer;

    transition: all var(--transition-base);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .emergency-close-btn:active {
    background: #cc0044;
    transform: scale(0.95);
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes scaleIn {
    from {
      transform: scale(0.8);
      opacity: 0;
    }

    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes pulse-emergency {

    0%,
    100% {
      transform: scale(1);
    }

    50% {
      transform: scale(1.1);
    }
  }

  /* ----------------------------------------
     Map Controls - Only visible when panel minimized
     ---------------------------------------- */
  .maplibregl-ctrl-bottom-right {
    display: none !important;
  }

  .sidebar.minimized~.map-container .maplibregl-ctrl-bottom-right,
  body:has(.sidebar.minimized) .maplibregl-ctrl-bottom-right {
    display: block !important;
    bottom: 90px !important;
    right: 12px !important;
  }
}